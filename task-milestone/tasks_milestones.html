<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Task & Milestone - LGU IPMS</title>
    <link rel="stylesheet" href="task-milestone.css" />
</head>
<body>
    <header class="nav" id="navbar">
        <div class="nav-logo">
            <img src="../logocityhall.png" alt="City Hall Logo" class="logo-img">
            <span class="logo-text">IPMS</span>
        </div>
        <div class="nav-links">
            <a href="../dashboard/dashboard.html"><img src="../dashboard/dashboard.png" class="nav-icon">Dashboard Overview</a>
            <a href="../project-registration/project_registration.html"><img src="../project-registration/list.png" class="nav-icon">Project Registration</a>
            <a href="../progress-monitoring/progress_monitoring.html"><img src="../progress-monitoring/monitoring.png" class="nav-icon">Progress Monitoring</a>
            <a href="../budget-resources/budget_resources.html"><img src="../budget-resources/budget.png" class="nav-icon">Budget & Resources</a>
            <a href="task-milestone.html" class="active"><img src="production.png" class="nav-icon">Task & Milestone</a>
            <a href="../contractors/contractors.html"><img src="../contractors/contractors.png" class="nav-icon">Contractors</a>
        </div>
        <div class="nav-user">
            <img src="../dashboard/person.png" alt="User Icon" class="user-icon">
            <span class="nav-username">Welcome, User</span>
            <a href="../login.html" class="nav-logout">Logout</a>
        </div>
        <div class="lgu-arrow-back">
            <a href="#" id="toggleSidebar">
                <img src="../dashboard/lgu-arrow-back.png" alt="Toggle sidebar">
            </a>
        </div>
    </header>

    <div class="toggle-btn" id="showSidebarBtn">
        <a href="#" id="toggleSidebarShow"><img src="../dashboard/lgu-arrow-right.png" alt="Show sidebar"></a>
    </div>

    <section class="main-content">
        <div class="dash-header">
            <h1>Task & Milestone Management</h1>
            <p>Deliverables per project • Assign tasks to contractors or LGU engineers • Deadline tracking</p>
        </div>

        <div class="recent-projects">
            <div class="controls-bar">
                <div class="left">
                    <input id="tmSearch" type="search" placeholder="Search task, deliverable or assignee">
                </div>
                <div class="right">
                    <select id="tmFilterProject"><option value="">All projects</option></select>
                    <select id="tmFilterStatus">
                        <option value="">All status</option>
                        <option>Not Started</option><option>In Progress</option><option>Blocked</option><option>Completed</option>
                    </select>
                    <button id="tmExport" type="button">Export CSV</button>
                </div>
            </div>

            <div class="summary">
                <div class="stat"><div id="tmTotal">0</div><small>Total tasks</small></div>
                <div class="stat"><div id="tmOverdue">0</div><small>Overdue</small></div>
                <div class="stat"><div id="tmDueWeek">0</div><small>Due this week</small></div>
            </div>

            <h3>Create / Assign Task</h3>
            <form id="taskForm" class="inline-form">
                <select id="taskProject" required><option value="">Select project</option></select>
                <input id="deliverable" type="text" placeholder="Deliverable (e.g., Foundation)" required>
                <input id="taskName" type="text" placeholder="Task name (e.g., Excavate trench)" required>
                <select id="assigneeType">
                    <option value="Contractor">Contractor</option>
                    <option value="LGU Engineer">LGU Engineer</option>
                </select>
                <input id="assignee" type="text" placeholder="Assignee name" required>
                <input id="deadline" type="date" required>
                <select id="priority">
                    <option>Normal</option><option>High</option><option>Low</option>
                </select>
                <button type="submit">Add Task</button>
            </form>

            <h3>Tasks</h3>
            <div class="table-wrap">
                <table id="tasksTable" class="table">
                    <thead>
                        <tr><th>Deliverable</th><th>Task</th><th>Assignee</th><th>Type</th><th>Priority</th><th>Deadline</th><th>Status</th><th>Actions</th></tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </section>

    <footer class="footer">
        <p>&copy; 2026 Local Government Unit. All rights reserved.</p>
    </footer>

    <script src="task-milestone.js"></script>
</body>
</html>